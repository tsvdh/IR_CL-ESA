<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_16) on Wed Mar 10 16:05:34 GMT 2010 -->
<TITLE>
BlockIndexer (Terrier 3.0 API)
</TITLE>

<META NAME="keywords" CONTENT="org.terrier.indexing.BlockIndexer class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="BlockIndexer (Terrier 3.0 API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockIndexer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/terrier/indexing/BasicSinglePassIndexer.html" title="class in org.terrier.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/terrier/indexing/BlockIndexer.BasicTermProcessor.html" title="class in org.terrier.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/terrier/indexing/BlockIndexer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockIndexer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.terrier.indexing</FONT>
<BR>
Class BlockIndexer</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">org.terrier.indexing.Indexer</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.terrier.indexing.BlockIndexer</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>BlockIndexer</B><DT>extends <A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></DL>
</PRE>

<P>
An indexer that saves block information for the indexed terms. Block information is usualy recorded in terms of relative term positions (position 1, positions 2, etc),
 however, since 2.2, Terrier supports the presence of "marker terms" during indexing which are used to increment the block counter.
 <B>Properties:</b>
 <ul> 
 <li><tt>block.size</tt> - How many terms should be in one block. If you want to use phrasal search, this need to be 1 (default).</li>
 <li><tt>max.blocks</tt> - Maximum number of blocks in a document. After this number of blocks, all subsequent terms will be in the same block. Default 100,000</li>
 <li><tt>block.indexing</tt> - This class should only be used if the <tt>block.indexing</tt> property is set.</li>
 <li>indexing.max.encoded.documentindex.docs - how many docs before the DocumentIndexEncoded is dropped in favour of the DocumentIndex (on disk implementation).</li>
 <li>string.use_utf - use the UTF index structures?</li>
 <li><i>See Also: Properties in </i>org.terrier.indexing.Indexer <i>and</i> org.terrier.indexing.BasicIndexer</li>
 </ul>
 <p><b>Markered Blocks</b><br>Markers are terms (artificially inserted or otherwise into the term stream that are used to denote when the block counter should
 be incremented. This functionality is enabled using the <tt>block.delimiters.enabled</tt> property, while the terms are specified using a comma delimited fashion with the
 <tt>block.delimiters</tt> property. The following lists the properties:
 <ul>
 <li><tt>block.delimiters.enabled</tt> - enabled markered blocks. Defaults to false, set to true to enable.</li>
 <li><tt>block.delimiters</tt> - comma delimited list of terms that are markers. Defaults to empty. Terms are lowercased is <tt>lowercase</tt> is set to true (default).</li>
 <li><tt>block.delimiters.index.terms</tt> - set to true if markers terms should actually be indexed. Defaults to false.</li>
 <li><tt>block.delimiters.index.doclength</tt> - set to true if markers terms should contribute to document length. Defaults to false, only has effect if 
 <tt>block.delimiters.index.terms</tt> is set. </li>
 </ul>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Revision: 1.49 $</DD>
<DT><B>Author:</B></DT>
  <DD>Craig Macdonald, Vassilis Plachouras, Rodrygo Santos</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.BasicTermProcessor.html" title="class in org.terrier.indexing">BlockIndexer.BasicTermProcessor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class implements an end of a TermPipeline that adds the
  term to the DocumentTree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.DelimFieldTermProcessor.html" title="class in org.terrier.indexing">BlockIndexer.DelimFieldTermProcessor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class behaves in a similar fashion to FieldTermProcessor except that
 this one treats blocks bounded by delimiters instead of fixed-sized blocks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.DelimTermProcessor.html" title="class in org.terrier.indexing">BlockIndexer.DelimTermProcessor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class behaves in a similar fashion to BasicTermProcessor except that
 this one treats blocks bounded by delimiters instead of fixed-sized blocks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.FieldTermProcessor.html" title="class in org.terrier.indexing">BlockIndexer.FieldTermProcessor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class implements an end of a TermPipeline that adds the
 term to the DocumentTree.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#BLOCK_SIZE">BLOCK_SIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The maximum number of terms allowed in a block.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#blockId">blockId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The block number of the current document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#MAX_BLOCKS">MAX_BLOCKS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The maximum number allowed number of blocks in a document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#numOfTokensInBlock">numOfTokensInBlock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of tokens in the current block of the current document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#numOfTokensInDocument">numOfTokensInDocument</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of tokens in the current document so far.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/util/Set.html" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#termFields">termFields</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The fields that are set for the current term.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../org/terrier/structures/indexing/DocumentPostingList.html" title="class in org.terrier.structures.indexing">DocumentPostingList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#termsInDocument">termsInDocument</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of terms in this document, and for each, the block occurrences.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.terrier.indexing.Indexer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.terrier.indexing.<A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#basicDirectIndexPostingIteratorClass">basicDirectIndexPostingIteratorClass</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#BUILDER_BOUNDARY_DOCUMENTS">BUILDER_BOUNDARY_DOCUMENTS</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#currentIndex">currentIndex</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#directIndexBuilder">directIndexBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#docIndexBuilder">docIndexBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#emptyDocIndexEntry">emptyDocIndexEntry</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#fieldDirectIndexPostingIteratorClass">fieldDirectIndexPostingIteratorClass</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#fieldNames">fieldNames</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#fileNameNoExtension">fileNameNoExtension</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#IndexEmptyDocuments">IndexEmptyDocuments</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#invertedIndexBuilder">invertedIndexBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#lexiconBuilder">lexiconBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#logger">logger</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#MAX_DOCS_PER_BUILDER">MAX_DOCS_PER_BUILDER</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#MAX_TOKENS_IN_DOCUMENT">MAX_TOKENS_IN_DOCUMENT</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#metaBuilder">metaBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#numFields">numFields</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#path">path</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#pipeline_first">pipeline_first</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#prefix">prefix</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#useFieldInformation">useFieldInformation</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#BlockIndexer(java.lang.String, java.lang.String)">BlockIndexer</A></B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;pathname,
             <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;prefix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an instance of this class, where the created data structures
 are stored in the given path, with the given prefix on the filenames.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#createDirectIndex(org.terrier.indexing.Collection[])">createDirectIndex</A></B>(<A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A>[]&nbsp;collections)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For the given collection, it iterates through the documents and
 creates the direct index, document index and lexicon, using 
 information about blocks and possibly fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#createDocumentPostings()">createDocumentPostings</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#createInvertedIndex()">createInvertedIndex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the inverted index from the already created direct index,
 document index and lexicon.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#finishedInvertedIndexBuild()">finishedInvertedIndexBuild</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hook method, called when the inverted index is finished - ie the lexicon is finished</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../org/terrier/terms/TermPipeline.html" title="interface in org.terrier.terms">TermPipeline</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#getEndOfPipeline()">getEndOfPipeline</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the object that is to be the end of the TermPipeline.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#indexDocument(java.util.Map, org.terrier.structures.indexing.DocumentPostingList)">indexDocument</A></B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/util/Map.html" title="class or interface in java.util">Map</A>&lt;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&gt;&nbsp;docProperties,
              <A HREF="../../../org/terrier/structures/indexing/DocumentPostingList.html" title="class in org.terrier.structures.indexing">DocumentPostingList</A>&nbsp;termsInDocument)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This adds a document to the direct and document indexes, as well 
 as it's terms to the lexicon.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/BlockIndexer.html#load_indexer_properties()">load_indexer_properties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.terrier.indexing.Indexer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.terrier.indexing.<A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#createMetaIndexBuilder()">createMetaIndexBuilder</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#finishedDirectIndexBuild()">finishedDirectIndexBuild</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#index(org.terrier.indexing.Collection[])">index</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#indexEmpty(java.util.Map)">indexEmpty</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#init()">init</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#load_builder_boundary_documents()">load_builder_boundary_documents</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#load_field_ids()">load_field_ids</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#load_pipeline()">load_pipeline</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#main(java.lang.String[])">main</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#merge(java.lang.String, java.lang.String, int, int)">merge</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#merge(java.lang.String, java.lang.String, java.util.LinkedList, int)">merge</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#mergeTwoIndices(java.lang.String[], java.lang.String[], java.lang.String[])">mergeTwoIndices</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#parseInts(java.lang.String[])">parseInts</A>, <A HREF="../../../org/terrier/indexing/Indexer.html#useFieldInformation()">useFieldInformation</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="numOfTokensInDocument"><!-- --></A><H3>
numOfTokensInDocument</H3>
<PRE>
protected int <B>numOfTokensInDocument</B></PRE>
<DL>
<DD>The number of tokens in the current document so far.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="numOfTokensInBlock"><!-- --></A><H3>
numOfTokensInBlock</H3>
<PRE>
protected int <B>numOfTokensInBlock</B></PRE>
<DL>
<DD>The number of tokens in the current block of the current document.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockId"><!-- --></A><H3>
blockId</H3>
<PRE>
protected int <B>blockId</B></PRE>
<DL>
<DD>The block number of the current document.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="termFields"><!-- --></A><H3>
termFields</H3>
<PRE>
protected <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/util/Set.html" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&gt; <B>termFields</B></PRE>
<DL>
<DD>The fields that are set for the current term.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="termsInDocument"><!-- --></A><H3>
termsInDocument</H3>
<PRE>
protected <A HREF="../../../org/terrier/structures/indexing/DocumentPostingList.html" title="class in org.terrier.structures.indexing">DocumentPostingList</A> <B>termsInDocument</B></PRE>
<DL>
<DD>The list of terms in this document, and for each, the block occurrences.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="BLOCK_SIZE"><!-- --></A><H3>
BLOCK_SIZE</H3>
<PRE>
protected int <B>BLOCK_SIZE</B></PRE>
<DL>
<DD>The maximum number of terms allowed in a block. See Property <tt>blocks.size</tt>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="MAX_BLOCKS"><!-- --></A><H3>
MAX_BLOCKS</H3>
<PRE>
protected int <B>MAX_BLOCKS</B></PRE>
<DL>
<DD>The maximum number allowed number of blocks in a document. 
 After this value, all the remaining terms are in the final block. See Property <tt>max.blocks</tt>.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BlockIndexer(java.lang.String, java.lang.String)"><!-- --></A><H3>
BlockIndexer</H3>
<PRE>
public <B>BlockIndexer</B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;pathname,
                    <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;prefix)</PRE>
<DL>
<DD>Constructs an instance of this class, where the created data structures
 are stored in the given path, with the given prefix on the filenames.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>pathname</CODE> - String the path in which the created data structures will be saved. This is assumed to be
 absolute.<DD><CODE>prefix</CODE> - String the prefix on the filenames of the created data structures, usually "data"</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getEndOfPipeline()"><!-- --></A><H3>
getEndOfPipeline</H3>
<PRE>
protected <A HREF="../../../org/terrier/terms/TermPipeline.html" title="interface in org.terrier.terms">TermPipeline</A> <B>getEndOfPipeline</B>()</PRE>
<DL>
<DD>Returns the object that is to be the end of the TermPipeline. 
 This method is used at construction time of the parent object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#getEndOfPipeline()">getEndOfPipeline</A></CODE> in class <CODE><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>TermPipeline the last component of the term pipeline.</DL>
</DD>
</DL>
<HR>

<A NAME="createDirectIndex(org.terrier.indexing.Collection[])"><!-- --></A><H3>
createDirectIndex</H3>
<PRE>
public void <B>createDirectIndex</B>(<A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A>[]&nbsp;collections)</PRE>
<DL>
<DD>For the given collection, it iterates through the documents and
 creates the direct index, document index and lexicon, using 
 information about blocks and possibly fields.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#createDirectIndex(org.terrier.indexing.Collection[])">createDirectIndex</A></CODE> in class <CODE><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>collections</CODE> - Collection[] the collection to index.<DT><B>See Also:</B><DD><A HREF="../../../org/terrier/indexing/Indexer.html#createDirectIndex(org.terrier.indexing.Collection[])"><CODE>Indexer.createDirectIndex(org.terrier.indexing.Collection[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="indexDocument(java.util.Map, org.terrier.structures.indexing.DocumentPostingList)"><!-- --></A><H3>
indexDocument</H3>
<PRE>
protected void <B>indexDocument</B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/util/Map.html" title="class or interface in java.util">Map</A>&lt;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&gt;&nbsp;docProperties,
                             <A HREF="../../../org/terrier/structures/indexing/DocumentPostingList.html" title="class in org.terrier.structures.indexing">DocumentPostingList</A>&nbsp;termsInDocument)
                      throws <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Exception.html" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>This adds a document to the direct and document indexes, as well 
 as it's terms to the lexicon. Handled internally by the methods 
 indexFieldDocument and indexNoFieldDocument.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>docProperties</CODE> - Map<String,String> properties of the document<DD><CODE>termsInDocument</CODE> - DocumentPostingList the terms in the document.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Exception.html" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createInvertedIndex()"><!-- --></A><H3>
createInvertedIndex</H3>
<PRE>
public void <B>createInvertedIndex</B>()</PRE>
<DL>
<DD>Creates the inverted index from the already created direct index,
 document index and lexicon. It saves block information and possibly
 field information as well.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#createInvertedIndex()">createInvertedIndex</A></CODE> in class <CODE><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/terrier/indexing/Indexer.html#createInvertedIndex()"><CODE>Indexer.createInvertedIndex()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="finishedInvertedIndexBuild()"><!-- --></A><H3>
finishedInvertedIndexBuild</H3>
<PRE>
protected void <B>finishedInvertedIndexBuild</B>()</PRE>
<DL>
<DD>Hook method, called when the inverted index is finished - ie the lexicon is finished
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#finishedInvertedIndexBuild()">finishedInvertedIndexBuild</A></CODE> in class <CODE><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createDocumentPostings()"><!-- --></A><H3>
createDocumentPostings</H3>
<PRE>
protected void <B>createDocumentPostings</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="load_indexer_properties()"><!-- --></A><H3>
load_indexer_properties</H3>
<PRE>
protected void <B>load_indexer_properties</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Indexer.html#load_indexer_properties()">load_indexer_properties</A></CODE> in class <CODE><A HREF="../../../org/terrier/indexing/Indexer.html" title="class in org.terrier.indexing">Indexer</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockIndexer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/terrier/indexing/BasicSinglePassIndexer.html" title="class in org.terrier.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/terrier/indexing/BlockIndexer.BasicTermProcessor.html" title="class in org.terrier.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/terrier/indexing/BlockIndexer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockIndexer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href='http://terrier.org/'>Terrier</a> 3.0. Copyright &copy; 2004-2009 ;a href='http://www.gla.ac.uk/'>University of Glasgow</a>
</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_16) on Wed Mar 10 16:05:49 GMT 2010 -->
<TITLE>
BlockInvertedIndexBuilder (Terrier 3.0 API)
</TITLE>

<META NAME="keywords" CONTENT="org.terrier.structures.indexing.BlockInvertedIndexBuilder class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="BlockInvertedIndexBuilder (Terrier 3.0 API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockInvertedIndexBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/terrier/structures/indexing/BlockFieldLexiconMap.html" title="class in org.terrier.structures.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/terrier/structures/indexing/BlockLexiconBuilder.html" title="class in org.terrier.structures.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/terrier/structures/indexing/BlockInvertedIndexBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockInvertedIndexBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_org.terrier.structures.indexing.InvertedIndexBuilder">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.terrier.structures.indexing</FONT>
<BR>
Class BlockInvertedIndexBuilder</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">org.terrier.structures.indexing.InvertedIndexBuilder</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.terrier.structures.indexing.BlockInvertedIndexBuilder</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>BlockInvertedIndexBuilder</B><DT>extends <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></DL>
</PRE>

<P>
Builds an inverted index saving term-block information. It optionally saves
 term-field information as well.
 <p>
 <b>Algorithm:</b>
 <ol>
 <li>While there are terms left:
 <ol>
 <li>Read M term ids from lexicon, in lexicographical order</li>
 <li>Read the occurrences of these M terms into memory from the direct file</li>
 <li>Write the occurrences of these M terms to the inverted file</li>
 </ol>
 <li>Rewrite the lexicon, removing block frequencies, and adding inverted
 file offsets</li>
 <li>Write the collection statistics</li>
 </ol>
 <p>
 <b>Lexicon term selection:</b> There are two strategies of selecting the
 number of terms to read from the lexicon. The trade-off here is to read a
 small enough number of terms into memory such that the occurrences of all
 those terms from the direct file can fit in memory. On the other hand, the
 less terms that are read implies more iterations, which is I/O expensive, as
 the entire direct file has to be read for every iteration.<br>
 The two strategies are:
 <ul>
 <li>Read a fixed number of terms on each iterations - this corresponds to
 the property <tt>invertedfile.processterms</tt></li>
 <li>Read a fixed number of occurrences (pointers) on each iteration. The
 number of pointers can be determined using the sum of frequencies of each
 term from the lexicon. This corresponds to the property
 <tt>invertedfile.processpointers</tt>. </li></ul>
  By default, the 2nd 
 strategy is chosen, unless the <tt>invertedfile.processpointers</tt> has a
 zero value specified.
 <p>
 <b>Properties:</b>
 <ul>
 <li><tt>invertedfile.processterms</tt> - the number of terms to process in
 each iteration. Defaults to 25,000</li>
 <li><tt>invertedfile.processpointers</tt> - the number of pointers to
 process in each iteration. Defaults to 2,000,000, which specifies that
 invertedfile.processterms should be read from the lexicon, regardless of the
 number of pointers.</li>
 </ul>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Revision: 1.40 $</DD>
<DT><B>Author:</B></DT>
  <DD>Douglas Johnson &amp; Vassilis Plachouras &amp; Craig Macdonald</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.terrier.structures.indexing.InvertedIndexBuilder"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class org.terrier.structures.indexing.<A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.IntLongTuple.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder.IntLongTuple</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#finalLexiconClass">finalLexiconClass</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.terrier.structures.indexing.InvertedIndexBuilder"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.terrier.structures.indexing.<A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#fieldCount">fieldCount</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#file">file</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#index">index</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#lexiconOutputStream">lexiconOutputStream</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#logger">logger</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#numberOfDocuments">numberOfDocuments</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#numberOfPointers">numberOfPointers</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#numberOfPointersPerIteration">numberOfPointersPerIteration</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#numberOfTokens">numberOfTokens</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#numberOfUniqueTerms">numberOfUniqueTerms</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#processTerms">processTerms</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#structureName">structureName</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#useFieldInformation">useFieldInformation</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#BlockInvertedIndexBuilder(org.terrier.structures.Index, java.lang.String)">BlockInvertedIndexBuilder</A></B>(<A HREF="../../../../org/terrier/structures/Index.html" title="class in org.terrier.structures">Index</A>&nbsp;index,
                          <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;structureName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#createInvertedIndex()">createInvertedIndex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method creates the block html inverted index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;gnu.trove.TIntArrayList[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#createPointerForTerm(org.terrier.structures.LexiconEntry)">createPointerForTerm</A></B>(<A HREF="../../../../org/terrier/structures/LexiconEntry.html" title="class in org.terrier.structures">LexiconEntry</A>&nbsp;le)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#traverseDirectFile(gnu.trove.TIntIntHashMap, gnu.trove.TIntArrayList[][])">traverseDirectFile</A></B>(gnu.trove.TIntIntHashMap&nbsp;codesHashMap,
                   gnu.trove.TIntArrayList[][]&nbsp;tmpStorage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverses the direct fies recording all occurrences of terms noted in
 codesHashMap into tmpStorage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/terrier/structures/indexing/BlockInvertedIndexBuilder.html#writeInvertedFilePart(java.io.DataOutputStream, gnu.trove.TIntArrayList[][], int)">writeInvertedFilePart</A></B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/DataOutputStream.html" title="class or interface in java.io">DataOutputStream</A>&nbsp;dos,
                      gnu.trove.TIntArrayList[][]&nbsp;tmpStorage,
                      int&nbsp;processTerms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the section of the inverted file</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.terrier.structures.indexing.InvertedIndexBuilder"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.terrier.structures.indexing.<A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#close()">close</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#displayMemoryUsage(java.lang.Runtime)">displayMemoryUsage</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#getLexOutputStream(java.lang.String)">getLexOutputStream</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#scanLexiconForPointers(long, java.util.Iterator, gnu.trove.TIntIntHashMap, java.util.ArrayList)">scanLexiconForPointers</A>, <A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#scanLexiconForTerms(int, java.util.Iterator, gnu.trove.TIntIntHashMap, gnu.trove.TIntArrayList[][])">scanLexiconForTerms</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="finalLexiconClass"><!-- --></A><H3>
finalLexiconClass</H3>
<PRE>
protected <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A> <B>finalLexiconClass</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BlockInvertedIndexBuilder(org.terrier.structures.Index, java.lang.String)"><!-- --></A><H3>
BlockInvertedIndexBuilder</H3>
<PRE>
public <B>BlockInvertedIndexBuilder</B>(<A HREF="../../../../org/terrier/structures/Index.html" title="class in org.terrier.structures">Index</A>&nbsp;index,
                                 <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;structureName)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createInvertedIndex()"><!-- --></A><H3>
createInvertedIndex</H3>
<PRE>
public void <B>createInvertedIndex</B>()</PRE>
<DL>
<DD>This method creates the block html inverted index. The approach used is
 described briefly: for a group of M terms from the lexicon we build the
 inverted file and save it on disk. In this way, the number of times we
 need to read the direct file is related to the parameter M, and
 consequently to the size of the available memory.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#createInvertedIndex()">createInvertedIndex</A></CODE> in class <CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createPointerForTerm(org.terrier.structures.LexiconEntry)"><!-- --></A><H3>
createPointerForTerm</H3>
<PRE>
protected gnu.trove.TIntArrayList[] <B>createPointerForTerm</B>(<A HREF="../../../../org/terrier/structures/LexiconEntry.html" title="class in org.terrier.structures">LexiconEntry</A>&nbsp;le)</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#createPointerForTerm(org.terrier.structures.LexiconEntry)">createPointerForTerm</A></CODE> in class <CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="traverseDirectFile(gnu.trove.TIntIntHashMap, gnu.trove.TIntArrayList[][])"><!-- --></A><H3>
traverseDirectFile</H3>
<PRE>
protected void <B>traverseDirectFile</B>(gnu.trove.TIntIntHashMap&nbsp;codesHashMap,
                                  gnu.trove.TIntArrayList[][]&nbsp;tmpStorage)
                           throws <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Traverses the direct fies recording all occurrences of terms noted in
 codesHashMap into tmpStorage.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#traverseDirectFile(gnu.trove.TIntIntHashMap, gnu.trove.TIntArrayList[][])">traverseDirectFile</A></CODE> in class <CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>codesHashMap</CODE> - contains the term ids that are being processed in this
                        iteration, as keys. Values are the corresponding index in
                        tmpStorage that information about this terms should be placed.<DD><CODE>tmpStorage</CODE> - Records the occurrences information. First dimension is for
                        each term, as of the index given by codesHashMap; Second
                        dimension contains fieldCount+4 TIntArrayLists : (document id, term
                        frequency, field0, ... fieldCount-1 , block frequencies, block ids).
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A></CODE> - if there is a problem while traversing the direct index.</DL>
</DD>
</DL>
<HR>

<A NAME="writeInvertedFilePart(java.io.DataOutputStream, gnu.trove.TIntArrayList[][], int)"><!-- --></A><H3>
writeInvertedFilePart</H3>
<PRE>
protected long <B>writeInvertedFilePart</B>(<A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/DataOutputStream.html" title="class or interface in java.io">DataOutputStream</A>&nbsp;dos,
                                     gnu.trove.TIntArrayList[][]&nbsp;tmpStorage,
                                     int&nbsp;processTerms)
                              throws <A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Writes the section of the inverted file
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html#writeInvertedFilePart(java.io.DataOutputStream, gnu.trove.TIntArrayList[][], int)">writeInvertedFilePart</A></CODE> in class <CODE><A HREF="../../../../org/terrier/structures/indexing/InvertedIndexBuilder.html" title="class in org.terrier.structures.indexing">InvertedIndexBuilder</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dos</CODE> - a temporary data structure that contains the offsets in the
                        inverted index for each term.<DD><CODE>tmpStorage</CODE> - Occurrences information, as described in traverseDirectFile().
                        This data is consumed by this method - once this method has
                        been called, all the data in tmpStorage will be destroyed.<DD><CODE>processTerms</CODE> - The number of terms being processed in this iteration.
<DT><B>Returns:</B><DD>the number of tokens processed in this iteration
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockInvertedIndexBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/terrier/structures/indexing/BlockFieldLexiconMap.html" title="class in org.terrier.structures.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/terrier/structures/indexing/BlockLexiconBuilder.html" title="class in org.terrier.structures.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/terrier/structures/indexing/BlockInvertedIndexBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockInvertedIndexBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_org.terrier.structures.indexing.InvertedIndexBuilder">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href='http://terrier.org/'>Terrier</a> 3.0. Copyright &copy; 2004-2009 ;a href='http://www.gla.ac.uk/'>University of Glasgow</a>
</BODY>
</HTML>
